import string
import math

o = {"name": "graph", "children": [{"name": "Democrat", "children": [{"name": "RETIRED", "size": 62697}, {"name": "ATTORNEY", "size": 11838}, {"name": "PHYSICIAN", "size": 6924}, {"name": "HOMEMAKER", "size": 5552}, {"name": "PROFESSOR", "size": 5179}, {"name": "TEACHER", "size": 4401}, {"name": "CONSULTANT", "size": 3894}, {"name": "NOT EMPLOYED", "size": 3855}, {"name": "LAWYER", "size": 3624}, {"name": "ENGINEER", "size": 2292}, {"name": "WRITER", "size": 1910}, {"name": "MANAGER", "size": 1683}, {"name": "CEO", "size": 1513}, {"name": "PRESIDENT", "size": 1508}, {"name": "EDUCATOR", "size": 1414}, {"name": "ARTIST", "size": 1291}, {"name": "OWNER", "size": 1236}, {"name": "STUDENT", "size": 1191}, {"name": "SELF-EMPLOYED", "size": 1150}, {"name": "SALES", "size": 1098}, {"name": "EXECUTIVE", "size": 1052}, {"name": "SOCIAL WORKER", "size": 1049}, {"name": "RN", "size": 1954}, {"name": "PSYCHOLOGIST", "size": 1004}, {"name": "SOFTWARE ENGINEER", "size": 915}, {"name": "ACCOUNTANT", "size": 851}, {"name": "ARCHITECT", "size": 845}, {"name": "ADMINISTRATOR", "size": 843}, {"name": "BUSINESS OWNER", "size": 795}, {"name": "DIRECTOR", "size": 702}, {"name": "SCIENTIST", "size": 683}, {"name": "MARKETING", "size": 628}, {"name": "EXECUTIVE DIRECTOR", "size": 601}, {"name": "PROJECT MANAGER", "size": 575}, {"name": "EDITOR", "size": 566}, {"name": "NURSE", "size": 560}, {"name": "LIBRARIAN", "size": 545}, {"name": "PSYCHOTHERAPIST", "size": 524}, {"name": "REALTOR", "size": 516}, {"name": "CPA", "size": 513}, {"name": "INVESTOR", "size": 506}, {"name": "MUSICIAN", "size": 505}, {"name": "REAL ESTATE", "size": 495}, {"name": "DESIGNER", "size": 457}, {"name": "PHARMACIST", "size": 453}, {"name": "DISABLED", "size": 451}, {"name": "VICE PRESIDENT", "size": 418}]}, {"name": "Republican", "children": [{"name": "RETIRED", "size": 32335}, {"name": "HOMEMAKER", "size": 7371}, {"name": "ATTORNEY", "size": 5450}, {"name": "PHYSICIAN", "size": 3983}, {"name": "ENGINEER", "size": 3351}, {"name": "PRESIDENT", "size": 2860}, {"name": "CONSULTANT", "size": 2282}, {"name": "EXECUTIVE", "size": 2177}, {"name": "SALES", "size": 2099}, {"name": "OWNER", "size": 2084}, {"name": "MANAGER", "size": 1544}, {"name": "STUDENT", "size": 1358}, {"name": "BUSINESS OWNER", "size": 1217}, {"name": "INVESTOR", "size": 1198}, {"name": "REAL ESTATE", "size": 1192}, {"name": "CEO", "size": 2282}, {"name": "SELF-EMPLOYED", "size": 1115}, {"name": "SOFTWARE ENGINEER", "size": 1050}, {"name": "TEACHER", "size": 953}, {"name": "FINANCE", "size": 849}, {"name": "NONE", "size": 845}, {"name": "ACCOUNTANT", "size": 836}, {"name": "FARMER", "size": 820}, {"name": "BANKER", "size": 781}, {"name": "DENTIST", "size": 765}, {"name": "UNEMPLOYED", "size": 745}, {"name": "SELF EMPLOYED", "size": 698}, {"name": "SELF", "size": 650}, {"name": "VICE PRESIDENT", "size": 572}, {"name": "CONTRACTOR", "size": 554}, {"name": "CHAIRMAN", "size": 541}, {"name": "INVESTMENTS", "size": 510}, {"name": "CPA", "size": 500}, {"name": "LAWYER", "size": 499}, {"name": "PARTNER", "size": 477}, {"name": "SOFTWARE DEVELOPER", "size": 470}, {"name": "FINANCIAL ADVISOR", "size": 428}, {"name": "PILOT", "size": 427}, {"name": "INVESTMENT BANKER", "size": 420}, {"name": "PROGRAMMER", "size": 415}, {"name": "REALTOR", "size": 401}, {"name": "PROFESSOR", "size": 398}, {"name": "PHARMACIST", "size": 394}, {"name": "SMALL BUSINESS OWNER", "size": 368}]}, {"name": "Libertarian", "children": [{"name": "RETIRED", "size": 161}, {"name": "SELF EMPLOYED", "size": 96}, {"name": "CONSULTANT", "size": 31}, {"name": "TRUCK DRIVER", "size": 21}, {"name": "PHYSICIAN", "size": 18}, {"name": "ATTORNEY", "size": 17}, {"name": "EXECUTIVE", "size": 15}, {"name": "SELF-EMPLOYED", "size": 13}, {"name": "SELF", "size": 12}, {"name": "BUSINESS OWNER", "size": 10}, {"name": "PROGRAMMER", "size": 9}, {"name": "PRESIDENT / COO", "size": 13}, {"name": "MASSAGE THERAPIST AND RN", "size": 7}, {"name": "INVESTOR", "size": 6}, {"name": "HOMEMAKER", "size": 6}, {"name": "CONSULTING", "size": 6}, {"name": "SELF - EMPLOYED", "size": 6}, {"name": "MUD LOGGING ENGINEER", "size": 5}, {"name": "RE", "size": 5}, {"name": "HEALTH CARE", "size": 5}, {"name": "TAX ACCOUNTANT", "size": 5}, {"name": "HOUSEWIFE", "size": 5}, {"name": "INTELLIGENCE ANALYST", "size": 5}, {"name": "TEACHER", "size": 5}, {"name": "REAL ESTATE", "size": 5}, {"name": "GENERAL SURGEON", "size": 5}, {"name": "CONSULTANT - COMPUTERS / AUTOMATION /", "size": 5}, {"name": "SALES", "size": 5}, {"name": "AIRLINE PILOT", "size": 4}, {"name": "DOCTOR", "size": 4}, {"name": "CEO", "size": 4}, {"name": "UNEMPLOYED", "size": 4}, {"name": "ENGINEER", "size": 4}, {"name": "CONSTRUCTION", "size": 4}, {"name": "IT", "size": 4}, {"name": "MANAGER", "size": 3}, {"name": "STUDENT", "size": 3}, {"name": "ENG", "size": 3}, {"name": "CAPITALIST", "size": 3}, {"name": "DIRECTOR LNG MARKETING", "size": 3}, {"name": "REAL ESTATE INVESTOR", "size": 3}, {"name": "PAWNBROKER", "size": 3}, {"name": "PRINCIPAL SOFTWARE ENGINEER", "size": 2}, {"name": "HEALTHCARE", "size": 2}, {"name": "ARCHITECT", "size": 2}, {"name": "CORPORATE TAX CONSULTANT", "size": 2}, {"name": "MARKETING", "size": 2}, {"name": "MILITARY", "size": 2}]}]}

for x in range(3):
    for i,obj in enumerate(o["children"][x]["children"]):
        o["children"][x]["children"][i]["name"] = \
            string.join(map(string.capitalize, obj["name"].split()))
        o["children"][x]["children"][i]["size"] = \
            math.log(obj["size"])

print o
